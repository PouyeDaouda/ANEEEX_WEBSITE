document.addEventListener("DOMContentLoaded",(function(){const lazyLoadImages=()=>{const images=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const imageObserver=new IntersectionObserver((entries=>{entries.forEach((entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.onload=()=>img.removeAttribute("data-src");imageObserver.unobserve(img)}}))}),{rootMargin:"200px"});images.forEach((img=>imageObserver.observe(img)))}else{images.forEach((img=>{img.src=img.dataset.src;img.removeAttribute("data-src")}))}};lazyLoadImages();const loader=document.createElement("div");loader.className="loader";loader.innerHTML='<i class="fas fa-spinner fa-spin"></i>';document.body.appendChild(loader);window.addEventListener("load",(function(){setTimeout((()=>{loader.classList.add("fade-out");setTimeout((()=>{loader.remove()}),500)}),1e3)}));document.querySelectorAll('a[href^="#"]').forEach((anchor=>{anchor.addEventListener("click",(function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));if(target){window.scrollTo({top:target.offsetTop-100,behavior:"smooth"})}}))}));const animateOnScroll=()=>{const elements=document.querySelectorAll(".pilier, .service, .actualite");elements.forEach((element=>{const elementPosition=element.getBoundingClientRect().top;const screenPosition=window.innerHeight/1.2;if(elementPosition<screenPosition){element.classList.add("animate")}}))};window.addEventListener("scroll",animateOnScroll);animateOnScroll()}));const style=document.createElement("style");style.textContent=`\n    .pilier, .service, .actualite {\n        opacity: 0;\n        transform: translateY(20px);\n        transition: opacity 0.6s ease-out, transform 0.6s ease-out;\n    }\n    \n    .pilier.animate, \n    .service.animate, \n    .actualite.animate {\n        opacity: 1;\n        transform: translateY(0);\n    }\n    \n    .loader.fade-out {\n        opacity: 0 !important;\n        visibility: hidden !important;\n    }\n`;document.head.appendChild(style);